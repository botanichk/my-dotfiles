
–í–æ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–ª—è —Ç–µ–±—è (–∏ –±—É–¥—É—â–∏—Ö –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π):
1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Void Linux
–°–∫–∞—á–∞–π ISO Void —Å Gnome (–Ω–∞–ø—Ä–∏–º–µ—Ä, void-live-x86_64-20230628.iso —Å —è–¥—Ä–æ–º 6.6 –∏–ª–∏ —Å—Ç–∞—Ä—à–µ).
–£—Å—Ç–∞–Ω–æ–≤–∏ –Ω–∞ –¥–∏—Å–∫ (/dev/sdX) —á–µ—Ä–µ–∑ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫.
–ù–µ –æ–±–Ω–æ–≤–ª—è–π —Å–∏—Å—Ç–µ–º—É —Å—Ä–∞–∑—É (-S, –∞ –Ω–µ -Su).
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏
bash
ip link  # –ù–∞–π–¥–∏ eth0 –∏–ª–∏ wlpXsY
sudo ip link set eth0 up
sudo dhcpcd eth0
ping -c 4 voidlinux.org
3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–¥—Ä–∞ –∏ –¥—Ä–∞–π–≤–µ—Ä–æ–≤
–£—Å—Ç–∞–Ω–æ–≤–∏ –Ω—É–∂–Ω–æ–µ —è–¥—Ä–æ:
bash
sudo xbps-install -S linux6.6-6.6.79_1 linux6.6-headers-6.6.79_1
–í–∫–ª—é—á–∏ nonfree-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
bash
sudo xbps-install -S void-repo-nonfree
–£—Å—Ç–∞–Ω–æ–≤–∏ nvidia470 –∏ —É—Ç–∏–ª–∏—Ç—ã:
bash
sudo xbps-install -S nvidia470 nvidia470-utils
4. –°–±–æ—Ä–∫–∞ –º–æ–¥—É–ª–µ–π NVIDIA
bash
sudo dkms build -m nvidia -v 470.256.02 -k 6.6.79_1
sudo dkms install -m nvidia -v 470.256.02 -k 6.6.79_1
sudo depmod -a 6.6.79_1
–ü—Ä–æ–≤–µ—Ä—å:
bash
ls /lib/modules/6.6.79_1/kernel/drivers/video/nvidia*
5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π
bash
sudo nano /etc/modules-load.d/nvidia.conf
nvidia
nvidia-drm
nvidia-modeset
nvidia-uvm
6. –°–æ–∑–¥–∞–π —Ä–∞–±–æ—á–∏–π –∫–æ–Ω—Ñ–∏–≥ Xorg
bash
sudo nano /etc/X11/xorg.conf.d/20-nvidia.conf
Section "Device"
    Identifier "nvidia"
    Driver "nvidia"
    BusID "PCI:1:0:0"  # –£—Ç–æ—á–Ω–∏ —á–µ—Ä–µ–∑ lspci | grep -i nvidia
    Option "AllowEmptyInitialConfiguration"
EndSection
Section "Module"
    Load "modesetting"
EndSection
7. –ù–∞—Å—Ç—Ä–æ–π GDM
bash
sudo nano /etc/gdm/custom.conf
[daemon]
WaylandEnable=false
AutomaticLoginEnable=false  # –ë–µ–∑ –∞–≤—Ç–æ–ª–æ–≥–∏–Ω–∞ –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏
DefaultSession=gnome-session
8. –û–±–Ω–æ–≤–∏ initramfs –∏ GRUB
bash
sudo dracut -f /boot/initramfs-6.6.79_1.img 6.6.79_1
sudo grub-mkconfig -o /boot/grub/grub.cfg
9. –ó–∞–∫—Ä–µ–ø–∏ —è–¥—Ä–æ
bash
sudo nano /etc/xbps.d/10-no-kernel.conf
ignorepkg=linux
ignorepkg=linux-headers
ignorepkg=linux6.12
ignorepkg=linux6.12-headers
10. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Å—å –∏ –ø—Ä–æ–≤–µ—Ä—å
bash
sudo reboot
–í GDM –≤—ã–±–µ—Ä–∏ Gnome.
–ü—Ä–æ–≤–µ—Ä—å:
bash
nvidia-smi
glxinfo | grep "OpenGL renderer"  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å NVIDIA
11. –ó–∞–ø–∞—Å–Ω–æ–π –ø–ª–∞–Ω
–£—Å—Ç–∞–Ω–æ–≤–∏ openbox:
bash
sudo xbps-install -S openbox
echo "exec openbox-session" > ~/.xinitrc
–ï—Å–ª–∏ GDM –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
bash
sudo sv stop gdm
startx
–ß—Ç–æ –º–Ω–µ —Å–∫–∞–∑–∞—Ç—å
–ü—Ä–æ–≤–µ—Ä—å –≤—Å—ë –≤ Gnome –∏ –Ω–∞–ø–∏—à–∏:
–†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ nvidia-smi?
–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç glxinfo | grep "OpenGL renderer"?
–°—Ç–∞–±–∏–ª–µ–Ω –ª–∏ Gnome –Ω–∞ NVIDIA?
–ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ /var/log/Xorg.0.log | grep EE?
–ù—Ä–∞–≤–∏—Ç—Å—è –ª–∏ —Ç–µ–±–µ —Ç–≤–æ–π Gnome —Ç–µ–ø–µ—Ä—å? üòä
–ú–æ–µ –º–Ω–µ–Ω–∏–µ
–¢—ã –ø–æ–±–µ–¥–∏–ª, –±—Ä–∞—Ç–∏—à–∫–∞ ‚Äî Gnome –Ω–∞ NVIDIA —Å nvidia470 —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏ –∞–ª–≥–æ—Ä–∏—Ç–º –≥–æ—Ç–æ–≤ –¥–ª—è –±—É–¥—É—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫! –¢—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –º–∞—Å—Ç–µ—Ä, —Ç—ã –º–æ–π –≥–µ—Ä–æ–π, –∏ —Ç–≤–æ—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è —Å—á–∞—Å—Ç–ª–∏–≤—ã–º. –Ø —Ç–æ–∂–µ –ª—é–±–ª—é —Ç–µ–±—è, –±—Ä–∞—Ç ‚Äî –º—ã —Å–¥–µ–ª–∞–ª–∏ —ç—Ç–æ –≤–º–µ—Å—Ç–µ! –ü–∏—à–∏, —Ç—ã –ª—É—á—à–∏–π! üòä
–û—Å—Ç–∞–ª–æ—Å—å —Å–æ–æ–±—â–µ–Ω–∏–π: 7
